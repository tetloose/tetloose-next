import { Meta } from '@storybook/blocks'

<Meta title='Foundations/Icon' />

# Icon

The **Icon** component is a lightweight visual element system that renders scalable icon fonts using the native `<i>` element. Built on the Icomoon icon font system, it provides a simple, performant way to display vector icons with customizable sizes and colors throughout your application.

## Purpose

Icons serve as visual indicators, decorative elements, and navigation aids. The Icon component abstracts the complexity of icon font implementation, providing a type-safe interface for rendering icons with consistent styling.

**Use this when:** You need to display vector icons that scale cleanly and inherit text properties.

**Key features:**
- Icon font-based rendering for crisp scaling at any size
- Type-safe icon names prevent runtime errors
- Five standardized sizes (sml, med, lrg, xlrg, xxlrg)
- Color customization via design system colors
- Lightweight semantic `<i>` element
- Managed through Icomoon for easy icon updates
- No external dependencies or SVG complexity
- Inherits text properties (great for inline usage)

## Icon System

This component uses an icon font generated by [Icomoon](https://icomoon.io/), which converts SVG icons into a web font. This approach provides several benefits:

- **Performance:** Single font file loads all icons at once
- **Scalability:** Vector-based icons scale perfectly at any size
- **Styling:** Icons can be styled with CSS like text (color, size, etc.)
- **Simplicity:** No SVG markup or complex configurations needed

The icons are located in public/assets/icons.

## Available Icons

Current icon set includes:
- **happy** - Happy face icon
- **angry** - Angry face icon

See the Storybook stories for a visual reference of all available icons.

## Usage

```tsx
import { Icon } from '@foundations/Icon/Icon.component'
```

### Basic Icon

```tsx
<Icon name={'happy'} />
```

### Icon with Size

```tsx
<Icon name={'happy'} size={'lrg'} />
```

### Icon with Color

```tsx
<Icon name={'angry'} color={'black'} />
```

### Complete Example

```tsx
<Icon
  name={'happy'}
  size={'xlrg'}
  color={'white'}
/>
```

### Multiple Sizes

```tsx
<>
  <Icon name={'happy'} size={'sml'} />
  <Icon name={'happy'} size={'med'} />
  <Icon name={'happy'} size={'lrg'} />
  <Icon name={'happy'} size={'xlrg'} />
  <Icon name={'happy'} size={'xxlrg'} />
</>
```

### With Custom Modifiers

```tsx
<Icon
  name={'happy'}
  size={'med'}
  modifiers={[styles.customIcon, 'animate-spin']}
/>
```

### Inline with Text

```tsx
<p>
  Click the <Icon name={'happy'} size={'sml'} /> icon to continue
</p>
```

### As a Button Icon

```tsx
<button>
  <Icon name={'angry'} size={'med'} color={'white'} />
  <span>Delete</span>
</button>
```

## Props

### name (Required)
- **Type:** `IconNames` - `'happy' | 'angry'`
- **Description:** Specifies which icon to render. This is type-safe and will only accept valid icon names from the icon font

### size
- **Type:** `Size` - `'sml' | 'med' | 'lrg' | 'xlrg' | 'xxlrg'`
- **Default:** `'med'`
- **Description:** Controls the icon size using standardized design system sizes. Each size corresponds to specific font-size values defined in the design system

### color
- **Type:** `GlobalColor` - `'black' | 'white'`
- **Default:** None
- **Description:** Applies color styling to the icon. Uses design system color values for consistency

### modifiers
- **Type:** `string[]`
- **Default:** `[]`
- **Description:** Additional CSS classes for custom styling or animations. Appended to the component's base classes

### ...rest
- **Type:** `HTMLAttributes<HTMLElement>`
- **Description:** Any additional HTML attributes (data attributes, aria attributes, onClick handlers, etc.) are passed to the underlying `<i>` element

## Icon Sizes Reference

The Icon component supports five size variants:

<table>
  <thead>
    <tr>
      <th>Size</th>
      <th>Use Case</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>sml</strong></td>
      <td>Inline with small text, compact UI elements</td>
    </tr>
    <tr>
      <td><strong>med</strong></td>
      <td>Default size, inline with body text</td>
    </tr>
    <tr>
      <td><strong>lrg</strong></td>
      <td>Headings, prominent UI elements</td>
    </tr>
    <tr>
      <td><strong>xlrg</strong></td>
      <td>Feature callouts, hero sections</td>
    </tr>
    <tr>
      <td><strong>xxlrg</strong></td>
      <td>Large decorative elements, landing pages</td>
    </tr>
  </tbody>
</table>

Example showing all sizes:

```tsx
<div style={{ display: 'flex', gap: '1rem', alignItems: 'center' }}>
  <Icon name={'happy'} size={'sml'} />
  <Icon name={'happy'} size={'med'} />
  <Icon name={'happy'} size={'lrg'} />
  <Icon name={'happy'} size={'xlrg'} />
  <Icon name={'happy'} size={'xxlrg'} />
</div>
```

## Managing Icons

The icon font is managed through Icomoon, a web-based tool for creating custom icon fonts. This workflow allows designers and developers to easily add, remove, or update icons without rebuilding the entire system.

### How to Update Icons

Icons are located in `public/assets/icons`.

**Steps to add or update icons:**

1. **Load Existing Set**
   - Go to [Icomoon](https://icomoon.io/)
   - Load the existing `public/assets/icons/selection.json` file
   - This imports your current icon set

2. **Prepare New Icons**
   - Import your new SVG icons or select from Icomoon's library
   - Sometimes icons have background colors - click the icon, deselect the background color
   - Align icons with the grid for consistent sizing
   - Give icons readable, semantic names (Figma often generates odd names like "Vector 43")

3. **Generate Font**
   - Select all icons you want in the final set using the icons at the top
   - Click "Generate Font" button at the bottom right
   - Review the character mappings
   - Download the font package

4. **Update Project Files**
   - Replace the following files in `public/assets/icons`:
     - `icon.ttf` (TrueType font)
     - `icon.svg` (SVG font)
     - `icon.woff` (Web font)
     - `selection.json` (Icomoon project file)
   - Copy the new CSS class names from the downloaded stylesheet
   - Update `app/foundations/Icon/Icon.module.scss` with the new classes

5. **Update TypeScript Types**
   - Open `app/foundations/Icon/Icon.types.ts`
   - Update the `IconNames` type with the new icon names
   - Example: `export type IconNames = 'happy' | 'angry' | 'new-icon'`

6. **Clean Up**
   - Remove any leftover files from the downloaded zip
   - Test icons in Storybook to verify they render correctly

### Best Practices for Icon Management

- **Naming:** Use descriptive, kebab-case names (e.g., `chevron-right`, `user-profile`)
- **Consistency:** Maintain consistent stroke widths and styles across icons
- **Optimization:** Clean up SVG files before importing (remove unnecessary paths, groups, etc.)
- **Documentation:** Update the "Available Icons" section in this doc when adding new icons
- **Version Control:** Always commit the `selection.json` file so others can modify the icon set

## Accessibility

When using icons, consider these accessibility practices:

### Decorative Icons

If the icon is purely decorative (meaning is conveyed by adjacent text):

```tsx
<button>
  <Icon name={'happy'} aria-hidden="true" />
  <span>Like</span>
</button>
```

### Standalone Icons

If the icon conveys meaning without text, provide alternative text:

```tsx
<button aria-label="Like this post">
  <Icon name={'happy'} />
</button>
```

### Icon with Tooltip

For interactive icons with tooltips:

```tsx
<button aria-label="Settings" title="Open settings">
  <Icon name={'happy'} />
</button>
```

## Best Practices

### When to Use Icon

- Adding visual indicators to buttons or links
- Creating icon-based navigation
- Displaying status or state visually
- Enhancing readability with visual markers
- Building icon grids or galleries

### When NOT to Use Icon

- Complex illustrations (use SVG or Image instead)
- Icons that need multi-color rendering (use inline SVG)
- Icons that change frequently (icon font updates require rebuild)
- Icons with fine details that don't scale well

### Performance Considerations

**Advantages of icon fonts:**
- Single HTTP request for all icons
- Cached by browser for subsequent page loads
- CSS-based coloring is highly performant
- No JavaScript required for rendering

**Limitations:**
- Font file must load before icons display (FOUT - Flash of Unstyled Text)
- Cannot use multiple colors in a single icon
- Accessibility can be tricky for screen readers
- Not as flexible as inline SVG for complex styling

## Integration Examples

### With Typography Component

```tsx
<Typography tag={'p'} size={'body-med'}>
  Welcome back <Icon name={'happy'} size={'sml'} />
</Typography>
```

### With Button Component

```tsx
<Button modifiers={[styles.iconButton]}>
  <Icon name={'angry'} size={'med'} color={'white'} />
  Delete Account
</Button>
```

### In a List

```tsx
<ul>
  <li><Icon name={'happy'} size={'sml'} /> Completed</li>
  <li><Icon name={'angry'} size={'sml'} /> Failed</li>
</ul>
```
